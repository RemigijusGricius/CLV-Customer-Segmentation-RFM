# CLV, Customer Segmentation & RFM

Welcome to my project on Customer Lifetime Value (CLV), Customer Segmentation, and Recency, Frequency, Monetary (RFM) analysis. This project is divided into two main parts: 
1. RFM Analysis 
2. CLV Calculation.

## Repository Contents
1. **RFM_Project.sql** - SQL query to clean data and calculate recency, frequency, and monetary values.
2. **RFM_quantiles.sql** - SQL query for quantile calculations.
3. **RFM_score.sql** - SQL query to calculate all possible RFM scores and segment customer data. Used later for customer segmentation.
4. **RFM_segmentation.sql** - Final SQL query that combines all data, adds RFM scores, and assigns segment names. Segment explanations are included in a spreadsheet.
5. **Segments_explanation.xlsx** – Excel file with parameters, segment explanations, and RFM score-segments mapping.
6. **RFMpresentation.pbix** – Power BI file for RFM visualization.
7. **RFMpresentation.pdf** – Power BI visualization in PDF format for those without Power BI.
8. **Weekly_Average_Revenue_by_Cohorts_(USD).sql** – SQL query to clean data and calculate average revenue by customer cohorts by week.
9. **Cumulative_Revenue_by_Cohorts_(USD).sql** – SQL query to calculate average cumulative revenue per customer after n weeks by cohorts.
10. **CLV_presentation.xlsx** – Excel file with all CLV calculations and visualizations. All formulas are left intact for clarity.

## RFM Analysis

### Purpose
Analyze customers based on their buying habits to enable targeted marketing strategies and improve customer retention and sales.

### Source of Data
Data is sourced from the Turing College dataset.

### Data Preparation
Data was cleaned and prepared for analysis. Outliers were removed using the formula: Between Q1 - 1.5 IQR and Q3 + 1.5 IQR.

### Methodology
- **Recency:** Based on the date of the last purchase, calculated from 2011-12-01.
- **Frequency:** Based on the number of purchases in the analysis period.
- **Monetary:** Based on the total amount spent in the analysis period.
- **Quantiles:** Customers were divided into quintiles for each component.

### Business Insights
**Key Findings:**
1. The most important groups (Best Customers, Big Spenders, Loyal Customers) accounted for 19.74% of all customers.
2. Groups needing attention (Lost Customers and Trial Runners) accounted for 40.34% of all customers.

**Recommendations:**
1. Target marketing campaigns at best customers and big spenders with VIP treatment, exclusive previews, or personalized services to maintain loyalty and satisfaction.
2. Focus on the promising prospects segment by analyzing their purchase history and offering personalized special offers to foster loyalty.
3. Pay additional attention to lost customers by analyzing their behavior and purchase history, offering special deals and benefits to encourage them to return, and conducting surveys to understand why they left.

## CLV Project

### Purpose
Calculate Customer Lifetime Value (CLV) considering all customers who visited our website.

### Description
For deeper analysis, CLV was calculated at the cohort level by weeks of purchase, using data up to 01/24/2021. CLV is calculated up to 12 weeks after the first visit to our website.

1. **Weekly Average Revenue by Cohorts (USD):** Calculates the average sales per person per week based on cohort week.
2. **Cumulative Revenue by Cohorts (USD):** Calculates cumulative sales in USD by cohort weeks and the average customer sales after n weeks.
3. **CLV Presentation:** Includes all graphs and average CLVs calculated from various perspectives. The implied value of CLV after 12 weeks is calculated for customers who haven't been with the company for 12 weeks, using historical growth data.

### Insights
1. CLV analysis by cohort method is valuable for understanding sales revenue generated by customers over time, providing a multi-angle analysis of CLV.
2. The company receives the highest sales in USD during the first week after customers visit the website.
3. Cohorts reveal customer behavior patterns, showing real-time customer numbers and sales during various pre-holiday promotions, and lower CLV for customers purchasing during the holiday season.
4. The longer a customer stays with the company, the higher the expected revenue. For instance, CLV for a customer after one week is $0.855 USD, while after 12 weeks it is $1.467 USD per customer.
5. Based on the company's field, with a recommended Customer Acquisition Cost (CAC) to CLV ratio of 1:3, the company can spend up to $0.489 on acquiring each new customer.

Feel free to explore the repository and use the provided resources for your own analysis and insights.
